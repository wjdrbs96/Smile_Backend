# `Smilegate BackEnd`

> ì£¼ì œ: ë¸”ë¡œê·¸ ê°œë°œ (Database, Front-end)

<br> <br>

## `êµ¬í˜„ ê²°ê³¼ë¬¼`

### ë©”ì¸ í˜ì´ì§€

<img width="1059" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 16 52" src="https://user-images.githubusercontent.com/45676906/140319944-7f22bb71-11d9-442c-af7c-603a9e694946.png">

- ë©”ì¸í˜ì´ì§€ì—ì„œ ê²Œì‹œê¸€ì„ 7ê°œì”© ë³´ì—¬ì£¼ë„ë¡ `í˜ì´ì§•` ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
- ê²Œì‹œê¸€ì„ `ê²€ìƒ‰`í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 
- ê²Œì‹œê¸€ì˜ `ì¡°íšŒìˆ˜` ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 

<br> <br>

### `ê²Œì‹œê¸€ ì‘ì„±`

<img width="524" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 17 25" src="https://user-images.githubusercontent.com/45676906/140320031-83afdd76-b238-44e9-8d0a-3ed211f9e90c.png">

ê²Œì‹œê¸€ì„ ì‘ì„±í•  ë•Œ `ê¸€ ì œëª©`, `ê¸€ ë‚´ìš©`, `ê¸€ ì¹´í…Œê³ ë¦¬`, `íŒŒì¼ ì—…ë¡œë“œ`ë¥¼ í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. 

<br>

<img width="512" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 18 26" src="https://user-images.githubusercontent.com/45676906/140320185-e90011e0-094d-4bae-98ae-df7c012878c6.png">

ê¸€ì„ ì…ë ¥í•˜ì§€ ì•Šê³  `ë“±ë¡` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìœ„ì™€ ê°™ì´ `ì…ë ¥ë€ì„ ì‘ì„±`í•˜ë¼ëŠ” ë¬¸êµ¬ê°€ ë‚˜ì˜¤ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.  

<br>

<img width="1477" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 24 40" src="https://user-images.githubusercontent.com/45676906/140321075-3c66ec88-4c00-4389-901a-6612dcffb9c0.png">

`íŒŒì¼ ì—…ë¡œë“œ`ëŠ” `AWS S3`ë¡œ ì—…ë¡œë“œ í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br> <br>

## `ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ`

<img width="545" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 19 44" src="https://user-images.githubusercontent.com/45676906/140320349-2dd67943-0322-4b8c-9ce2-91219e093c7a.png">

ê²Œì‹œê¸€ ìƒì„¸ì¡°íšŒë¥¼ í•˜ë©´ ìœ„ì™€ ê°™ì´ ì‘ì„±í–ˆë˜ ëŒ€ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  `ê²Œì‹œê¸€ ìˆ˜ì •`, `ëŒ“ê¸€ë³´ê¸°`, `ê²Œì‹œê¸€ ì‚­ì œ` ë²„íŠ¼ì´ ì¡´ì¬í•©ë‹ˆë‹¤. 

<br> <br>

## `ê²Œì‹œê¸€ ìˆ˜ì •`

<img width="504" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 26 47" src="https://user-images.githubusercontent.com/45676906/140321368-215be72e-e932-479d-9367-340211a9aad6.png">

`ê²Œì‹œê¸€ ìˆ˜ì •` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìœ„ì™€ ê°™ì´ ì œëª©, ë‚´ìš©ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ í™œì„±í™”ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  íŒŒì¼ ì—…ë¡œë“œë„ ë‹¤ì‹œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

<br> <br>

## `ê²Œì‹œê¸€ ì‚­ì œ`

<img width="1024" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 28 46" src="https://user-images.githubusercontent.com/45676906/140321658-65d982c6-3422-4b76-81ac-7ca84701aea9.png">

25ë²ˆ ê²Œì‹œê¸€ì„ ì‚­ì œí–ˆëŠ”ë° ìœ„ì™€ ê°™ì´ ì˜ ì‚­ì œê°€ ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

<br> <br>

## `ëŒ“ê¸€ ì‘ì„±`

<img width="564" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 29 55" src="https://user-images.githubusercontent.com/45676906/140321846-c8c161ad-b67a-46bc-a4be-f7bf95493a00.png">

`ëŒ“ê¸€ ë“±ë¡`ì—ì„œ ëŒ“ê¸€ì„ ë“±ë¡í•˜ë©´ ìœ„ì— ë°”ë¡œ ëŒ“ê¸€ì´ ì¶”ê°€ ë©ë‹ˆë‹¤.

<br> <br>

## `ëŒ“ê¸€ ìˆ˜ì •`

<img width="517" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 32 50" src="https://user-images.githubusercontent.com/45676906/140322427-840168ad-1909-43bf-a9ee-728c15a319f5.png">

`ìˆ˜ì • ë²„íŠ¼`ì„ ëˆ„ë¥¸ í›„ì— ëŒ“ê¸€ ìˆ˜ì •ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<br> <br>

## `ëŒ“ê¸€ ì‚­ì œ`

<img width="539" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 34 46" src="https://user-images.githubusercontent.com/45676906/140322697-4641aeb0-f26e-4a60-ad15-99667ba5e13d.png">

ìˆ˜ì •í•œ ëŒ“ê¸€ì„ ì‚­ì œí–ˆëŠ”ë° ì‚­ì œê°€ ì˜ ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

<br> <br>

## `ê²Œì‹œê¸€ ê²€ìƒ‰`

<img width="1081" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 37 40" src="https://user-images.githubusercontent.com/45676906/140323166-592532c1-3f8e-412a-8ef3-b3b936a58131.png">

ê²€ìƒ‰ í‚¤ì›Œë“œë¡œ `ì œëª©1` ì´ë¼ê³  ì…ë ¥í–ˆëŠ”ë°, `ì œëª©1`ì´ ë“¤ì–´ê°„ ê²Œì‹œê¸€ë“¤ì´ ì „ë¶€ ë‚˜ì˜¨ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

<br> <br>

## `ë§ˆì´ í˜ì´ì§€`

<img width="341" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 36 02" src="https://user-images.githubusercontent.com/45676906/140322910-72992f3d-4167-4c3c-899b-9e5c7626aab7.png">

ë§ˆì´í˜ì´ì§€ì—ì„œëŠ” `ë‚´ê°€ ì‘ì„±í•œ ê²Œì‹œê¸€ ìˆ˜`, `ê²Œì‹œê¸€ ëˆ„ì  ì¡°íšŒ ìˆ˜`ë¥¼ ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br> <br>

## `êµ¬í˜„ëœ ê¸°ëŠ¥ ì •ë¦¬`

- ë©”ì¸ í˜ì´ì§€ ì¡°íšŒ (Paging ë²„íŠ¼ ì¶”ê°€)
- ê²Œì‹œê¸€ ì‘ì„± (íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥)
- ê²Œì‹œê¸€ ë‹¨ê±´ ì¡°íšŒ
- ê²Œì‹œê¸€ ì¡°íšŒìˆ˜
- ê²Œì‹œê¸€ ì‚­ì œ
- ê²Œì‹œê¸€ ìˆ˜ì •
- ê²Œì‹œê¸€ ê²€ìƒ‰
- ë§ˆì´í˜ì´ì§€ ì¡°íšŒ
- ëŒ“ê¸€ ì¡°íšŒ
- ëŒ“ê¸€ ìˆ˜ì •
- ëŒ“ê¸€ ì‚­ì œ

<br> <br>

## `í”„ë¡œì íŠ¸ êµ¬ì¡°`

```
â”œâ”€â”€â”€main/
    â”œâ”€â”€â”€java/
        â”œâ”€â”€â”€controllers/
        â”‚   â”œâ”€â”€â”€CommentController.java
        â”‚   â”œâ”€â”€â”€PostController.java
        â”‚   â”œâ”€â”€â”€UserController.java
        â”œâ”€â”€â”€dto/
        â”‚   â””â”€â”€â”€auth.js
        â”œâ”€â”€â”€models/
        â”‚   â”œâ”€â”€â”€request
        â”‚   â”‚   â”‚   â”œâ”€â”€â”€PostSaveRequestDTO.java
        â”‚   â”‚   â”‚   â”œâ”€â”€â”€PostUpdateRequestDTO.java
        â”‚   â”œâ”€â”€â”€response
        â”‚   â”‚   â”‚   â”œâ”€â”€â”€CommentResponseDTO.java
        â”‚   â”‚   â”‚   â”œâ”€â”€â”€PostCommentResponseDTO.java
        â”‚   â”‚   â”‚   â”œâ”€â”€â”€PostResponseDTO.java
        â”‚   â”‚   â”‚   â”œâ”€â”€â”€UserMyPageResponseDTO.java
        â””â”€â”€â”€entity/
        â”‚   â”œâ”€â”€â”€BaseEntity.java
        â”‚   â”œâ”€â”€â”€Category.java
        â”‚   â”œâ”€â”€â”€Comment.java
        â”‚   â”œâ”€â”€â”€Post.java
        â”‚   â”œâ”€â”€â”€User.java
        â””â”€â”€â”€repository/
        â”‚   â”œâ”€â”€â”€CommentRepository.java
        â”‚   â”œâ”€â”€â”€PostRepository.java
        â”‚   |â”€â”€â”€UserRepository.java
        â””â”€â”€â”€service/
        â”‚   â”œâ”€â”€â”€CommentService.java
        â”‚   â”œâ”€â”€â”€FileUploadService.java
        â”‚   â”œâ”€â”€â”€PostService.java
        â”‚   â”œâ”€â”€â”€UserService.java    
        â””â”€â”€â”€util/
            â”œâ”€â”€â”€LocalDateTimeToStringUtil.java
    â”œâ”€â”€â”€resources/
        â”œâ”€â”€â”€application.yml
    â”œâ”€â”€â”€webapp/
        â”œâ”€â”€â”€WEB-INF
            â”œâ”€â”€â”€commentUpdate.jsp
            â”œâ”€â”€â”€create.jsp
            â”œâ”€â”€â”€error.jsp
            â”œâ”€â”€â”€header.jsp
            â”œâ”€â”€â”€main.jsp
            â”œâ”€â”€â”€myPage.jsp
            â”œâ”€â”€â”€postComment.jsp
            â”œâ”€â”€â”€update.jsp
            â”œâ”€â”€â”€view.jsp
â”œâ”€â”€â”€test/
    â”œâ”€â”€â”€java/
        â”œâ”€â”€â”€com.smile/
            â”œâ”€â”€â”€service/
                â”œâ”€â”€â”€CommentServiceTest/
                â”œâ”€â”€â”€PostServiceTest/
                â”œâ”€â”€â”€UserServiceTest/
```

<br> <br>

## `ğŸ“‚ Database Modeling`

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-05 á„‹á…©á„Œá…¥á†« 12 32 58](https://user-images.githubusercontent.com/45676906/140357985-f095e994-e6c2-418c-957e-9ff67d20f43f.png)


<br> <br>

## `application.yml`

```yaml
spring:
  datasource:
    url: jdbc:h2:mem:smile-db
    username: sa
    password:
  mvc:
    view:
      prefix: /WEB-INF/
      suffix: .jsp
    hiddenmethod:
      filter:
        enabled: true
  h2:
    console:
      enabled: true
      path: /h2-console

  jpa:
    show-sql: true
    properties:
      hibernate:
        format_sql: true
      javax:
        persistence:
          sharedcache:
            mode: ENABLE_SELECTIVE

    generate-ddl: true
    hibernate:
      ddl-auto: create

cloud:
  aws:
    credentials:
      accessKey: ${ACCESS_KEY}
      secretKey: ${SECRET_KEY}
    s3:
      bucket: ${BUCKET_NAME}
      dir: Gyunny/
    region:
      static: ${AWS_REGION}
    stack:
      auto: false
```

<br>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 10 54 38](https://user-images.githubusercontent.com/45676906/140326348-c61ae24a-74a3-455a-93c5-0c3bd43a8960.png)

`IAM` ê°’ë“¤ì€ `Intellij` í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ `IAM Access Key`, `IAM Secret Key`ê°€ í•„ìš”í•©ë‹ˆë‹¤!!

<br> <br>

## `í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±`

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 11 04 19](https://user-images.githubusercontent.com/45676906/140328250-05da9926-6a16-4f7e-9cf8-b0a85a21edce.png)

<br>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 11 05 19](https://user-images.githubusercontent.com/45676906/140328260-a6d2a7d8-737c-4d03-8c0f-3e8ddd3cad53.png)

<br>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-04 á„‹á…©á„’á…® 11 05 50](https://user-images.githubusercontent.com/45676906/140328261-cfd9d42e-0537-471b-8395-a19039ed212c.png)

`User`, `Comment`, `Post`ì— ëŒ€í•´ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ([í…ŒìŠ¤íŠ¸ ì½”ë“œ ë³´ëŸ¬ê°€ê¸°](https://github.com/wjdrbs96/Smile_Backend/tree/develop/src/test/java/com/smile/service))

<br> <br>

## `ì•„ì‰¬ìš´ ì `

### `ë””ìì¸ì„ ì´ì˜ê²Œ í•˜ì§€ ëª»í•œ ë¶€ë¶„`

í‰ì†Œì— í”„ë¡ íŠ¸ì—”ë“œ, ë””ìì¸ì— ëŒ€í•´ì„œ ë‹¤ë£¨ì–´ ë³¸ ê²½í—˜ì´ ê±°ì˜ ì—†ë‹¤ë³´ë‹ˆ ë””ìì¸ì„ ê³ ë ¤í•˜ì§€ ëª»í•˜ê³  í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œë¥¼ ì‘ì„±í•œ ê²ƒì´ ì•„ì‰½ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ğŸ˜…

<br> <br>

### `@RequestBodyë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œ ë¶€ë¶„`

HTTP Methodì˜ POST, PUTì„ ì‚¬ìš©í•  ë•Œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ë•Œ `@RequestBody`ë¥¼ ì‚¬ìš©í•˜ì—¬ HTTP Body ë°ì´í„°ë¥¼ ë°›ì•„ì™”ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ëŠ” í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `html-css-jsp`ë¡œë§Œ êµ¬í˜„í•˜ë‹¤ë³´ë‹ˆ form íƒœê·¸ì—ì„œ `x-www-form-urlencoded`ë¥¼ ì§€ì›í•´ì„œ `RequestParam`ì„ ì‚¬ìš©í•´ì„œ ë°›ì•„ì™”ìŠµë‹ˆë‹¤. 

ì´ ë¶€ë¶„ì„ ê°œì„ í•˜ê¸° ìœ„í•´ì„œ `ajax`ë¥¼ ì‚¬ìš©í•´ì„œ `application/json`ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ë„ ìˆì—ˆì§€ë§Œ ì¢€ ë” `Java` ì½”ë“œì— ì§‘ì¤‘í•˜ê¸° ìœ„í•´ì„œ `jsp`ë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒìœ¼ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-05 á„‹á…©á„Œá…¥á†« 12 10 13](https://user-images.githubusercontent.com/45676906/140341790-da92596d-b6ce-4bde-aa39-f87a8ecae60b.png)

ê·¸ë˜ì„œ ìœ„ì²˜ëŸ¼ ë‚´ë¶€ì—ì„œ `DTO`ë¡œ ë¬¶ì–´ì„œ `Service` ê³„ì¸µìœ¼ë¡œ ë³´ë‚´ëŠ” ê²ƒìœ¼ë¡œ í•˜ì˜€ì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì˜ ëª¨ë¥´ë‹¤ë³´ë‹ˆ ì´ ë¶€ë¶„ì„ ë” ê°œì„ í•˜ì§€ ëª»í•œ ê²ƒì´ ì•„ì‰½ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ğŸ˜… 

<br> <br>

### `Validation ë¡œì§ ë„£ê¸°`

ìœ„ì—ì„œ ë§í•œ ê²ƒì²˜ëŸ¼ í´ë¼ì´ì–¸íŠ¸ -> ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•Œ `@RuquestBody`ë¥¼ í†µí•´ì„œ `DTO`ì— ë°ì´í„°ë¥¼ ë°›ì§€ ëª»í•˜ë‹¤ ë³´ë‹ˆê¹Œ `@Valid`ë¡œ ê²€ì¦í•˜ë ¤ í•˜ëŠ” ë¶€ë¶„ì„ ë„£ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê°’ì´ `null` or `empty String` ìœ¼ë¡œ ë„˜ì–´ì˜¬ ìˆ˜ ì—†ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.   

ì´ ë¶€ë¶„ë„ ì•„ì‰¬ìš´ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ğŸ˜…

<br> <br>

## `Pull Request ëª¨ì•„ë³´ê¸°`

- [Pull Request ëª¨ì•„ë³´ê¸°](https://github.com/wjdrbs96/Smile_Backend/pulls?q=is%3Apr+is%3Aclosed)

<br> <br>

## `Git Branch Convention`

- `develop`: masterë¡œ ë¨¸ì§€ ë˜ê¸° ì „ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜ì…ë‹ˆë‹¤.
- `feature`: API ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜ ì…ë‹ˆë‹¤.
- `fix`: ë²„ê·¸ ìˆ˜ì • ì‚¬í•­ì„ í•´ê²°í•˜ëŠ” ë¸Œëœì¹˜ì…ë‹ˆë‹¤.
- `refactor`: ì½”ë“œ ë¦¬íŒ©í„°ë§ì„ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¸Œëœì¹˜ì…ë‹ˆë‹¤.

<br> <br>

## `Git Commit Convention`

- `Feat`: ê¸°ëŠ¥ì„ ê°œë°œí•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- `Refactor`: ë¦¬íŒ©í„°ë§ í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- `Fix`: ë²„ê·¸ ìˆ˜ì • ì‚¬í•­ì„ í•´ê²°í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- `Test`: í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

<br> <br>

## `ì‚¬ìš©ëœ ê¸°ìˆ `

- `Java 11`
- `Spring Boot`
- `Spring Data JPA`
- `H2 DataBase`
- `AWS S3`
- `HTML`, `CSS`
- `Java Server Page(JSP)`
- `JUnit5`

<br> <br>

## `Author`

- [Gyunny](https://github.com/wjdrbs96)